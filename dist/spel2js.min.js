/*
 * Copyright 2002-2015 the original author or authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.spel2js=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b,c){var d,e=new f.Stack;return b||(b={}),e.push(b),d={rootContext:b,activeContext:e,locals:c},a.getValue(d)}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelExpressionParser"),f=a("../src/lib/Stack"),g={};g.compile=function(a){var b=(0,e.SpelExpressionParser)().parse(a);return{eval:function(a,c){return d(b,a,c)},_compiledExpression:b}},g.eval=function(a,b,c){return g.compile(a).eval(b,c)},c.SpelExpressionEvaluator=g},{"./SpelExpressionParser":2,"./lib/Stack":42}],2:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e,f,g,h,i,j,k,l=a("../src/TokenKind"),m=a("../src//Tokenizer"),n=a("../src//ast/BooleanLiteral"),o=a("../src//ast/NumberLiteral"),p=a("../src//ast/StringLiteral"),q=a("../src//ast/NullLiteral"),r=a("../src//ast/FunctionReference"),s=a("../src//ast/MethodReference"),t=a("../src//ast/PropertyReference"),u=a("../src//ast/VariableReference"),v=a("../src//ast/CompoundExpression"),w=a("../src//ast/Indexer"),x=a("../src//ast/Assign"),y=a("../src//ast/OpEQ"),z=a("../src/ast/OpNE"),A=a("../src/ast/OpGE"),B=a("../src/ast/OpGT"),C=a("../src//ast/OpLE"),D=a("../src//ast/OpLT"),E=a("../src//ast/OpPlus"),F=a("../src//ast/OpMinus"),G=a("../src//ast/OpMultiply"),H=a("../src//ast/OpDivide"),I=a("../src//ast/OpModulus"),J=a("../src//ast/OpPower"),K=a("../src//ast/OpInc"),L=a("../src//ast/OpDec"),M=a("../src//ast/OpNot"),N=a("../src//ast/OpAnd"),O=a("../src//ast/OpOr"),P=a("../src//ast/Ternary"),Q=a("../src//ast/Elvis"),R=a("../src//ast/InlineList"),S=a("../src//ast/InlineMap"),T=a("../src//ast/Selection"),U=a("../src//ast/Projection"),V=function(){function a(a){Pa=a}function b(a,b){try{Qa=a,Ra=m.Tokenizer.tokenize(a),Sa=Ra.length,Ta=0,Va=[];var d=c();return Fa()&&Ia(Ha().startPos,"MORE_INPUT",Ga().toString()),d}catch(e){throw e.message}}function c(){var a=V();if(Fa()){var b=Ha();if(b.getKind()===l.TokenKind.ASSIGN){null===a&&(a=q.NullLiteral.create(Oa(b.startPos-1,b.endPos-1))),Ga();var d=V();return x.Assign.create(Na(b),a,d)}if(b.getKind()===l.TokenKind.ELVIS){null===a&&(a=q.NullLiteral.create(Oa(b.startPos-1,b.endPos-2))),Ga();var e=c();return null===e&&(e=q.NullLiteral.create(Oa(b.startPos+1,b.endPos+1))),Q.Elvis.create(Na(b),a,e)}if(b.getKind()===l.TokenKind.QMARK){null===a&&(a=q.NullLiteral.create(Oa(b.startPos-1,b.endPos-1))),Ga();var f=c();za(l.TokenKind.COLON);var g=c();return P.Ternary.create(Na(b),a,f,g)}}return a}function V(){for(var a=W();Da("or")||Aa(l.TokenKind.SYMBOLIC_OR);){var b=Ga(),c=W();Ka(b,a,c),a=O.OpOr.create(Na(b),a,c)}return a}function W(){for(var a=X();Da("and")||Aa(l.TokenKind.SYMBOLIC_AND);){var b=Ga(),c=X();Ka(b,a,c),a=N.OpAnd.create(Na(b),a,c)}return a}function X(){var a=Y(),b=ya();if(null!==b){var c=Ga(),g=Y();Ka(c,a,g);var h=b.kind;if(b.isNumericRelationalOperator()){var i=Na(c);return h===l.TokenKind.GT?B.OpGT.create(i,a,g):h===l.TokenKind.LT?D.OpLT.create(i,a,g):h===l.TokenKind.LE?C.OpLE.create(i,a,g):h===l.TokenKind.GE?A.OpGE.create(i,a,g):h===l.TokenKind.EQ?y.OpEQ.create(i,a,g):z.OpNE.create(i,a,g)}return h===l.TokenKind.INSTANCEOF?new d(Na(c),a,g):h===l.TokenKind.MATCHES?new e(Na(c),a,g):new f(Na(c),a,g)}return a}function Y(){for(var a=Z();Ca(l.TokenKind.PLUS,l.TokenKind.MINUS,l.TokenKind.INC);){var b=Ga(),c=Z();Ma(b,c),b.getKind()===l.TokenKind.PLUS?a=E.OpPlus.create(Na(b),a,c):b.getKind()===l.TokenKind.MINUS&&(a=F.OpMinus.create(Na(b),a,c))}return a}function Z(){for(var a=$();Ca(l.TokenKind.STAR,l.TokenKind.DIV,l.TokenKind.MOD);){var b=Ga(),c=$();Ka(b,a,c),a=b.getKind()===l.TokenKind.STAR?G.OpMultiply.create(Na(b),a,c):b.getKind()===l.TokenKind.DIV?H.OpDivide.create(Na(b),a,c):I.OpModulus.create(Na(b),a,c)}return a}function $(){var a,b=_();if(Aa(l.TokenKind.POWER)){a=Ga();var c=_();return Ma(a,c),J.OpPower.create(Na(a),b,c)}return null!==b&&Ca(l.TokenKind.INC,l.TokenKind.DEC)?(a=Ga(),a.getKind()===l.TokenKind.INC?K.OpInc.create(Na(a),!0,b):L.OpDec.create(Na(a),!0,b)):b}function _(){var a,b;return Ca(l.TokenKind.PLUS,l.TokenKind.MINUS,l.TokenKind.NOT)?(a=Ga(),b=_(),a.getKind()===l.TokenKind.NOT?M.OpNot.create(Na(a),b):a.getKind()===l.TokenKind.PLUS?E.OpPlus.create(Na(a),b):F.OpMinus.create(Na(a),b)):Ca(l.TokenKind.INC,l.TokenKind.DEC)?(a=Ga(),b=_(),a.getKind()===l.TokenKind.INC?K.OpInc.create(Na(a),!1,b):L.OpDec.create(Na(a),!1,b)):aa()}function aa(){var a=[],b=ia();for(a.push(b);ba();)a.push(va());return 1===a.length?a[0]:v.CompoundExpression.create(Oa(b.getStartPosition(),a[a.length-1].getEndPosition()),a)}function ba(){var a=null;return null!==(a=Ca(l.TokenKind.DOT,l.TokenKind.SAFE_NAVI)?da():ca())&&(ua(a),!0)}function ca(){return Aa(l.TokenKind.LSQUARE)&&oa()?va():null}function da(){var a=Ga(),b=a.getKind()===l.TokenKind.SAFE_NAVI;return sa(b)||ea()||ma(b)||pa(b)?va():(null===Ha()?Ia(a.startPos,"OOD"):Ia(a.startPos,"UNEXPECTED_DATA_AFTER_DOT",Ja(Ha())),null)}function ea(){if(!Aa(l.TokenKind.HASH))return!1;var a=Ga(),b=za(l.TokenKind.IDENTIFIER),c=fa();return null===c?(ua(u.VariableReference.create(b.data,Oa(a.startPos,b.endPos))),!0):(ua(r.FunctionReference.create(b.data,Oa(a.startPos,b.endPos),c)),!0)}function fa(){if(!Aa(l.TokenKind.LPAREN))return null;var a=[];return ha(a),za(l.TokenKind.RPAREN),a}function ga(a){Aa(l.TokenKind.LPAREN)||Ia(Na(Ha()),"MISSING_CONSTRUCTOR_ARGS"),ha(a),za(l.TokenKind.RPAREN)}function ha(a){var b,d=Ha().startPos;do{Ga();var e=Ha();null===e&&Ia(d,"RUN_OUT_OF_ARGUMENTS"),e.getKind()!==l.TokenKind.RPAREN&&a.push(c()),b=Ha()}while(null!==b&&b.kind===l.TokenKind.COMMA);null===b&&Ia(d,"RUN_OUT_OF_ARGUMENTS")}function ia(){return wa()?va():xa()?va():ka()||la()||ta()||sa(!1)||ea()?va():ja()?va():ma(!1)||pa(!1)||oa()?va():na()?va():null}function ja(){if(Aa(l.TokenKind.BEAN_REF)){var a=Ga(),b=null,c=null;Aa(l.TokenKind.IDENTIFIER)?(b=za(l.TokenKind.IDENTIFIER),c=b.data):Aa(l.TokenKind.LITERAL_STRING)?(b=za(l.TokenKind.LITERAL_STRING),c=b.stringValue(),c=c.substring(1,c.length()-1)):Ia(a.startPos,"INVALID_BEAN_REFERENCE");return ua(new g(Na(b),c)),!0}return!1}function ka(){if(Aa(l.TokenKind.IDENTIFIER)){var a=Ha();if("T"!==a.stringValue())return!1;var b=Ga();if(Aa(l.TokenKind.RSQUARE))return ua(t.PropertyReference.create(b.stringValue(),Na(b))),!0;za(l.TokenKind.LPAREN);for(var c=qa(),d=0;Ba(l.TokenKind.LSQUARE,!0);)za(l.TokenKind.RSQUARE),d++;return za(l.TokenKind.RPAREN),ua(new h(Na(a),c,d)),!0}return!1}function la(){if(Aa(l.TokenKind.IDENTIFIER)){var a=Ha();return"null"===a.stringValue().toLowerCase()&&(Ga(),ua(q.NullLiteral.create(Na(a))),!0)}return!1}function ma(a){var b=Ha();if(!Ba(l.TokenKind.PROJECT,!0))return!1;var d=c();return za(l.TokenKind.RSQUARE),ua(U.Projection.create(a,Na(b),d)),!0}function na(){var a=Ha(),b=[];if(!Ba(l.TokenKind.LCURLY,!0))return!1;var d=null,e=Ha();if(Ba(l.TokenKind.RCURLY,!0))d=R.InlineList.create(Oa(a.startPos,e.endPos));else if(Ba(l.TokenKind.COLON,!0))e=za(l.TokenKind.RCURLY),d=S.InlineMap.create(Oa(a.startPos,e.endPos));else{var f=c();if(Aa(l.TokenKind.RCURLY))b.push(f),e=za(l.TokenKind.RCURLY),d=R.InlineList.create(Oa(a.startPos,e.endPos),b);else if(Ba(l.TokenKind.COMMA,!0)){b.push(f);do{b.push(c())}while(Ba(l.TokenKind.COMMA,!0));e=za(l.TokenKind.RCURLY),d=R.InlineList.create(Na(a.startPos,e.endPos),b)}else if(Ba(l.TokenKind.COLON,!0)){var g=[];for(g.push(f),g.push(c());Ba(l.TokenKind.COMMA,!0);)g.push(c()),za(l.TokenKind.COLON),g.push(c());e=za(l.TokenKind.RCURLY),d=S.InlineMap.create(Oa(a.startPos,e.endPos),g)}else Ia(a.startPos,"OOD")}return ua(d),!0}function oa(){var a=Ha();if(!Ba(l.TokenKind.LSQUARE,!0))return!1;var b=c();return za(l.TokenKind.RSQUARE),ua(w.Indexer.create(Na(a),b)),!0}function pa(a){var b=Ha();if(!Ea())return!1;Ga();var d=c();return null===d&&Ia(Na(b),"MISSING_SELECTION_EXPRESSION"),za(l.TokenKind.RSQUARE),ua(b.getKind()===l.TokenKind.SELECT_FIRST?T.Selection.create(a,T.Selection.FIRST,Na(b),d):b.getKind()===l.TokenKind.SELECT_LAST?T.Selection.create(a,T.Selection.LAST,Na(b),d):T.Selection.create(a,T.Selection.ALL,Na(b),d)),!0}function qa(){for(var a=[],b=Ha();ra(b);)Ga(),b.kind!==l.TokenKind.DOT&&a.push(new j(b.stringValue(),Na(b))),b=Ha();a.length||(null===b&&Ia(Qa.length(),"OOD"),Ia(b.startPos,"NOT_EXPECTED_TOKEN","qualified ID",b.getKind().toString().toLowerCase()));var c=Oa(a[0].getStartPosition(),a[a.length-1].getEndPosition());return new i(c,a)}function ra(a){if(null===a||a.kind===l.TokenKind.LITERAL_STRING)return!1;if(a.kind===l.TokenKind.DOT||a.kind===l.TokenKind.IDENTIFIER)return!0;var b=a.stringValue();return b.length&&Ua.test(b)}function sa(a){if(Aa(l.TokenKind.IDENTIFIER)){var b=Ga(),c=fa();return null===c?(ua(t.PropertyReference.create(a,b.stringValue(),Na(b))),!0):(ua(s.MethodReference.create(a,b.stringValue(),Na(b),c)),!0)}return!1}function ta(){if(Da("new")){var a=Ga();if(Aa(l.TokenKind.RSQUARE))return ua(t.PropertyReference.create(a.stringValue(),Na(a))),!0;var b=qa(),d=[];if(d.push(b),Aa(l.TokenKind.LSQUARE)){for(var e=[];Ba(l.TokenKind.LSQUARE,!0);)Aa(l.TokenKind.RSQUARE)?e.push(null):e.push(c()),za(l.TokenKind.RSQUARE);na()&&d.push(va()),ua(new k(Na(a),e,d))}else ga(d),ua(new k(Na(a),d));return!0}return!1}function ua(a){Va.push(a)}function va(){return Va.pop()}function wa(){var a=Ha();if(null===a)return!1;if(a.getKind()===l.TokenKind.LITERAL_INT||a.getKind()===l.TokenKind.LITERAL_LONG)ua(o.NumberLiteral.create(parseInt(a.stringValue(),10),Na(a)));else if(a.getKind()===l.TokenKind.LITERAL_REAL||a.getKind()===l.TokenKind.LITERAL_REAL_FLOAT)ua(o.NumberLiteral.create(parseFloat(a.stringValue()),Na(a)));else if(a.getKind()===l.TokenKind.LITERAL_HEXINT||a.getKind()===l.TokenKind.LITERAL_HEXLONG)ua(o.NumberLiteral.create(parseInt(a.stringValue(),16),Na(a)));else if(Da("true"))ua(n.BooleanLiteral.create(!0,Na(a)));else if(Da("false"))ua(n.BooleanLiteral.create(!1,Na(a)));else{if(a.getKind()!==l.TokenKind.LITERAL_STRING)return!1;ua(p.StringLiteral.create(a.stringValue(),Na(a)))}return Ga(),!0}function xa(){if(Aa(l.TokenKind.LPAREN)){Ga();var a=c();return za(l.TokenKind.RPAREN),ua(a),!0}return!1}function ya(){var a=Ha();if(null===a)return null;if(a.isNumericRelationalOperator())return a;if(a.isIdentifier()){var b=a.stringValue();if("instanceof"===b.toLowerCase())return a.asInstanceOfToken();if("matches"===b.toLowerCase())return a.asMatchesToken();if("between"===b.toLowerCase())return a.asBetweenToken()}return null}function za(a){var b=Ga();return null===b&&Ia(Qa.length,"OOD"),b.getKind()!==a&&Ia(b.startPos,"NOT_EXPECTED_TOKEN",a.toString().toLowerCase(),b.getKind().toString().toLowerCase()),b}function Aa(a){return Ba(a,!1)}function Ba(a,b){if(!Fa())return!1;var c=Ha();return c.getKind()===a?(b&&Ta++,!0):a===l.TokenKind.IDENTIFIER&&c.getKind().ordinal()>=l.TokenKind.DIV.ordinal()&&c.getKind().ordinal()<=l.TokenKind.NOT.ordinal()&&null!==c.data}function Ca(){if(!Fa())return!1;for(var a=Ha(),b=Array.prototype.slice.call(arguments),c=0,d=b.length;c<d;c+=1)if(a.getKind()===b[c])return!0;return!1}function Da(a){if(!Fa())return!1;var b=Ha();return b.getKind()===l.TokenKind.IDENTIFIER&&b.stringValue().toLowerCase()===a.toLowerCase()}function Ea(){if(!Fa())return!1;var a=Ha();return a.getKind()===l.TokenKind.SELECT||a.getKind()===l.TokenKind.SELECT_FIRST||a.getKind()===l.TokenKind.SELECT_LAST}function Fa(){return Ta<Ra.length}function Ga(){return Ta>=Sa?null:Ra[Ta++]}function Ha(){return Ta>=Sa?null:Ra[Ta]}function Ia(a,b,c,d){throw c&&(b+="\nExpected: "+c),d&&(b+="\nActual: "+d),{name:"InternalParseException",message:"Error occurred while attempting to parse expression '"+Qa+"' at position "+a+". Message: "+b}}function Ja(a){return a.getKind().hasPayload()?a.stringValue():a.getKind().toString().toLowerCase()}function Ka(a,b,c){La(a,b),Ma(a,c)}function La(a,b){null===b&&Ia(a.startPos,"LEFT_OPERAND_PROBLEM")}function Ma(a,b){null===b&&Ia(a.startPos,"RIGHT_OPERAND_PROBLEM")}function Na(a){return(a.startPos<<16)+a.endPos}function Oa(a,b){return(a<<16)+b}var Pa,Qa,Ra,Sa,Ta,Ua=new RegExp("[\\p{L}\\p{N}_$]+"),Va=[];return{setConfiguration:a,parse:b}};c.SpelExpressionParser=V},{"./TokenKind":5,"./Tokenizer":6,"./ast/Assign":7,"./ast/BooleanLiteral":8,"./ast/CompoundExpression":9,"./ast/Elvis":10,"./ast/FunctionReference":11,"./ast/Indexer":12,"./ast/InlineList":13,"./ast/InlineMap":14,"./ast/MethodReference":15,"./ast/NullLiteral":16,"./ast/NumberLiteral":17,"./ast/OpAnd":18,"./ast/OpDec":19,"./ast/OpDivide":20,"./ast/OpEQ":21,"./ast/OpGE":22,"./ast/OpGT":23,"./ast/OpInc":24,"./ast/OpLE":25,"./ast/OpLT":26,"./ast/OpMinus":27,"./ast/OpModulus":28,"./ast/OpMultiply":29,"./ast/OpNE":30,"./ast/OpNot":31,"./ast/OpOr":32,"./ast/OpPlus":33,"./ast/OpPower":34,"./ast/Projection":35,"./ast/PropertyReference":36,"./ast/Selection":37,"./ast/StringLiteral":39,"./ast/Ternary":40,"./ast/VariableReference":41}],3:[function(a,b,c){"use strict";function d(a,b){var c={};return c.authentication=a||{},c.principal=b||{},c.hasRole=function(a){var b=!1;return!!a&&(!(!c.authentication&&!Array.isArray(c.authentication.authorities))&&(c.authentication.authorities.forEach(function(c){c.authority.toLowerCase()===a.toLowerCase()&&(b=!0)}),b))},c.hasPermission=function(){var a=Array.prototype.slice.call(arguments);if(1===a.length)return c.hasRole(a[0])},c}Object.defineProperty(c,"__esModule",{value:!0});var e={create:d};c.StandardContext=e},{}],4:[function(a,b,c){"use strict";function d(a,b,c,d){this.kind=a,this.startPos=c,this.endPos=d,b&&(this.data=b)}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/TokenKind");d.prototype.getKind=function(){return this.kind},d.prototype.toString=function(){var a="[";return a+=this.kind.toString(),this.kind.hasPayload()&&(a+=":"+this.data),a+="]",a+="("+this.startPos+","+this.endPos+")"},d.prototype.isIdentifier=function(){return this.kind===e.TokenKind.IDENTIFIER},d.prototype.isNumericRelationalOperator=function(){return this.kind===e.TokenKind.GT||this.kind===e.TokenKind.GE||this.kind===e.TokenKind.LT||this.kind===e.TokenKind.LE||this.kind===e.TokenKind.EQ||this.kind===e.TokenKind.NE},d.prototype.stringValue=function(){return this.data},d.prototype.asInstanceOfToken=function(){return new d(e.TokenKind.INSTANCEOF,this.startPos,this.endPos)},d.prototype.asMatchesToken=function(){return new d(e.TokenKind.MATCHES,this.startPos,this.endPos)},d.prototype.asBetweenToken=function(){return new d(e.TokenKind.BETWEEN,this.startPos,this.endPos)},d.prototype.getStartPosition=function(){return this.startPos},d.prototype.getEndPosition=function(){return this.endPos},c.Token=d},{"./TokenKind":5}],5:[function(a,b,c){"use strict";function d(a){this.type=a,this.tokenChars=e[a],this._hasPayload="string"!=typeof e[a],"number"==typeof e[a]&&(this._ordinal=e[a])}Object.defineProperty(c,"__esModule",{value:!0});var e={LITERAL_INT:1,LITERAL_LONG:2,LITERAL_HEXINT:3,LITERAL_HEXLONG:4,LITERAL_STRING:5,LITERAL_REAL:6,LITERAL_REAL_FLOAT:7,LPAREN:"(",RPAREN:")",COMMA:",",IDENTIFIER:0,COLON:":",HASH:"#",RSQUARE:"]",LSQUARE:"[",LCURLY:"{",RCURLY:"}",DOT:".",PLUS:"+",STAR:"*",MINUS:"-",SELECT_FIRST:"^[",SELECT_LAST:"$[",QMARK:"?",PROJECT:"![",DIV:"/",GE:">=",GT:">",LE:"<=",LT:"<",EQ:"==",NE:"!=",MOD:"%",NOT:"!",ASSIGN:"=",INSTANCEOF:"instanceof",MATCHES:"matches",BETWEEN:"between",SELECT:"?[",POWER:"^",ELVIS:"?:",SAFE_NAVI:"?.",BEAN_REF:"@",SYMBOLIC_OR:"||",SYMBOLIC_AND:"&&",INC:"++",DEC:"--"};for(var f in e)e.hasOwnProperty(f)&&(d[f]=new d(f));d.prototype.toString=function(){return this.type+(0!==this.tokenChars.length?"("+this.tokenChars+")":"")},d.prototype.getLength=function(){return this.tokenChars.length},d.prototype.hasPayload=function(){return this._hasPayload},d.prototype.valueOf=function(a){for(var b in e)if(e.hasOwnProperty(b)&&e[b]===a)return d[b]},d.prototype.ordinal=function(){return this._ordinal},c.TokenKind=d},{}],6:[function(a,b,c){"use strict";function d(){var a;for(a="0".charCodeAt(0);a<="9".charCodeAt(0);a+=1)i[a]|=j|k;for(a="A".charCodeAt(0);a<="F".charCodeAt(0);a+=1)i[a]|=k;for(a="a".charCodeAt(0);a<="f".charCodeAt(0);a+=1)i[a]|=k;for(a="A".charCodeAt(0);a<="Z".charCodeAt(0);a+=1)i[a]|=l;for(a="a".charCodeAt(0);a<="z".charCodeAt(0);a+=1)i[a]|=l}function e(a){function b(){for(var a;H<G;)if(a=F[H],C(a))m();else switch(a){case"+":r(g.TokenKind.INC)?t(g.TokenKind.INC):s(g.TokenKind.PLUS);break;case"_":m();break;case"-":r(g.TokenKind.DEC)?t(g.TokenKind.DEC):s(g.TokenKind.MINUS);break;case":":s(g.TokenKind.COLON);break;case".":s(g.TokenKind.DOT);break;case",":s(g.TokenKind.COMMA);break;case"*":s(g.TokenKind.STAR);break;case"/":s(g.TokenKind.DIV);break;case"%":s(g.TokenKind.MOD);break;case"(":s(g.TokenKind.LPAREN);break;case")":s(g.TokenKind.RPAREN);break;case"[":s(g.TokenKind.LSQUARE);break;case"#":s(g.TokenKind.HASH);break;case"]":s(g.TokenKind.RSQUARE);break;case"{":s(g.TokenKind.LCURLY);break;case"}":s(g.TokenKind.RCURLY);break;case"@":s(g.TokenKind.BEAN_REF);break;case"^":r(g.TokenKind.SELECT_FIRST)?t(g.TokenKind.SELECT_FIRST):s(g.TokenKind.POWER);break;case"!":r(g.TokenKind.NE)?t(g.TokenKind.NE):r(g.TokenKind.PROJECT)?t(g.TokenKind.PROJECT):s(g.TokenKind.NOT);break;case"=":r(g.TokenKind.EQ)?t(g.TokenKind.EQ):s(g.TokenKind.ASSIGN);break;case"&":if(!r(g.TokenKind.SYMBOLIC_AND))throw{name:"SpelParseException",message:"Missing character '&' in expression ("+E+") at position "+H};t(g.TokenKind.SYMBOLIC_AND);break;case"|":if(!r(g.TokenKind.SYMBOLIC_OR))throw{name:"SpelParseException",message:"Missing character '|' in expression ("+E+") at position "+H};t(g.TokenKind.SYMBOLIC_OR);break;case"?":r(g.TokenKind.SELECT)?t(g.TokenKind.SELECT):r(g.TokenKind.ELVIS)?t(g.TokenKind.ELVIS):r(g.TokenKind.SAFE_NAVI)?t(g.TokenKind.SAFE_NAVI):s(g.TokenKind.QMARK);break;case"$":r(g.TokenKind.SELECT_LAST)?t(g.TokenKind.SELECT_LAST):m();break;case">":r(g.TokenKind.GE)?t(g.TokenKind.GE):s(g.TokenKind.GT);break;case"<":r(g.TokenKind.LE)?t(g.TokenKind.LE):s(g.TokenKind.LT);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e("0"===a);break;case" ":case"\t":case"\r":case"\n":H+=1;break;case"'":c();break;case'"':d();break;case"\0":H+=1;break;case"\\":throw{name:"SpelParseException",message:"Unexpected escape character in expression ("+E+") at position "+H};default:throw{name:"SpelParseException",message:"Cannot handle character '"+a+"' in expression ("+E+") at position "+H}}}function c(){for(var a,b=H,c=!1;!c;)if(H+=1,a=F[H],"'"===a&&("'"===F[H+1]?H+=1:c=!0),0===a.charCodeAt(0))throw{name:"SpelParseException",message:"Non-terminating quoted string in expression ("+E+") at position "+H};H+=1,I.push(new f.Token(g.TokenKind.LITERAL_STRING,q(b,H),b,H))}function d(){for(var a,b=H,c=!1;!c;)if(H+=1,a=F[H],'"'===a&&('"'===F[H+1]?H+=1:c=!0),0===a.charCodeAt(0))throw{name:"SpelParseException",message:"Non-terminating double-quoted string in expression ("+E+") at position "+H};H+=1,I.push(new f.Token(g.TokenKind.LITERAL_STRING,q(b,H),b,H))}function e(a){var b,c,d,e,f=!1,g=H,h=F[H+1],i="x"===h||"X"===h;if(a&&i){H+=1;do{H+=1}while(D(F[H]));return void(w("L","l")?(o(q(g+2,H),!0,g,H),H+=1):o(q(g+2,H),!1,g,H))}do{H+=1}while(B(F[H]));if("."===(h=F[H])){f=!0,b=H;do{H+=1}while(B(F[H]));if(H===b+1)return H=b,void n(q(g,H),!1,g,H)}if(c=H,w("L","l")){if(f)throw{name:"SpelParseException",message:"Real cannot be long in expression ("+E+") at position "+H};n(q(g,c),!0,g,c),H+=1}else if(x(F[H])){f=!0,H+=1,d=F[H],A(d)&&(H+=1);do{H+=1}while(B(F[H]));e=!1,y(F[H])?(e=!0,H+=1,c=H):z(F[H])&&(H+=1,c=H),p(q(g,H),e,g,H)}else h=F[H],e=!1,y(h)?(f=!0,e=!0,H+=1,c=H):z(h)&&(f=!0,H+=1,c=H),f?p(q(g,c),e,g,c):n(q(g,c),!1,g,c)}function m(){var a,b,c=H;do{H+=1}while(v(F[H]));if(a=q(c,H),(H-c==2||H-c==3)&&(b=a.toUpperCase(),h.indexOf(b)>=0))return void u(g.TokenKind.valueOf(b),c,a);I.push(new f.Token(g.TokenKind.IDENTIFIER,a.replace("\0",""),c,H))}function n(a,b,c,d){b?I.push(new f.Token(g.TokenKind.LITERAL_LONG,a,c,d)):I.push(new f.Token(g.TokenKind.LITERAL_INT,a,c,d))}function o(a,b,c,d){if(0===a.length)throw b?{name:"SpelParseException",message:"Not a long in expression ("+E+") at position "+H}:{name:"SpelParseException",message:"Not an int in expression ("+E+") at position "+H};b?I.push(new f.Token(g.TokenKind.LITERAL_HEXLONG,a,c,d)):I.push(new f.Token(g.TokenKind.LITERAL_HEXINT,a,c,d))}function p(a,b,c,d){b?I.push(new f.Token(g.TokenKind.LITERAL_REAL_FLOAT,a,c,d)):I.push(new f.Token(g.TokenKind.LITERAL_REAL,a,c,d))}function q(a,b){return F.substring(a,b)}function r(a){return 2===a.tokenChars.length&&F[H]===a.tokenChars[0]&&F[H+1]===a.tokenChars[1]}function s(a){I.push(new f.Token(a,null,H,H+1)),H+=1}function t(a){I.push(new f.Token(a,null,H,H+2)),H+=2}function u(a,b,c){I.push(new f.Token(a,c,b,b+a.getLength()))}function v(a){return C(a)||B(a)||"_"===a||"$"===a}function w(a,b){var c=F[H];return c===a||c===b}function x(a){return"e"===a||"E"===a}function y(a){return"f"===a||"F"===a}function z(a){return"d"===a||"D"===a}function A(a){return"+"===a||"-"===a}function B(a){return!(a.charCodeAt(0)>255)&&0!=(i[a.charCodeAt(0)]&j)}function C(a){return!(a.charCodeAt(0)>255)&&0!=(i[a.charCodeAt(0)]&l)}function D(a){return!(a.charCodeAt(0)>255)&&0!=(i[a.charCodeAt(0)]&k)}var E=a,F=a+"\0",G=F.length,H=0,I=[];return b(),I}Object.defineProperty(c,"__esModule",{value:!0});var f=a("../src/Token"),g=a("../src/TokenKind"),h=["DIV","EQ","GE","GT","LE","LT","MOD","NE","NOT"],i=[],j=1,k=2,l=4;d();var m={tokenize:e};c.Tokenizer=m},{"./Token":4,"./TokenKind":5}],7:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("assign",a,b,c);return d.getValue=function(a){if(!a.activeContext.peek())throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+b.getValue(a)+"' for an undefined context."};return b.setValue(c.getValue(a),a)},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.Assign=f},{"./SpelNode":38}],8:[function(a,b,c){"use strict";function d(a,b){var c=e.SpelNode.create("boolean",b);return c.getValue=function(){return a},c.setValue=function(b){return a=b},c}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.BooleanLiteral=f},{"./SpelNode":38}],9:[function(a,b,c){"use strict";function d(a,b){function c(a){var b,c=d.getChildren().length;for(b=0;b<c;b+=1)"indexer"===d.getChildren()[b].getType()?a.activeContext.push(a.activeContext.peek()[d.getChildren()[b].getValue(a)]):a.activeContext.push(d.getChildren()[b].getValue(a));return function(){for(b=0;b<c;b+=1)a.activeContext.pop()}}var d=e.SpelNode.create.apply(null,["compound",a].concat(b));return d.getValue=function(a){var b,d=a.activeContext.peek();if(!d)throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};var e=c(a);return b=a.activeContext.peek(),e(),b},d.setValue=function(a,b){var e=c(b),f=d.getChildren().length;return b.activeContext.pop(),a=d.getChildren()[f-1].setValue(a,b),b.activeContext.push(null),e(),a},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.CompoundExpression=f},{"./SpelNode":38}],10:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("elvis",a,b,c);return d.getValue=function(a){return null!==b.getValue(a)?b.getValue(a):c.getValue(a)},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.Elvis=f},{"./SpelNode":38}],11:[function(a,b,c){"use strict";function d(a,b){var c=e.SpelNode.create("method",a);return c.getValue=function(){var a=c,d=null;do{a.getParent()?a=a.getParent():d=a.getContext()}while(a);if(d[b])return d[b].call(d);throw{name:"FunctionDoesNotExistException",message:"Function '"+b+"' does not exist."}},c}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.FunctionReference=f},{"./SpelNode":38}],12:[function(a,b,c){"use strict";function d(a,b){var c=e.SpelNode.create.apply(null,["indexer",a].concat(b));return c.getValue=function(a){var b,d,e=a.activeContext,g=c.getChildren().length;if(a.activeContext=new f.Stack,a.activeContext.push(a.rootContext),!a.activeContext.peek())throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};for(b=0;b<g;b+=1)a.activeContext.push(c.getChildren()[b].getValue(a));for(d=a.activeContext.peek(),b=0;b<g;b+=1)a.activeContext.pop();return a.activeContext=e,d},c}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f=a("../lib/Stack"),g={create:d};c.Indexer=g},{"../lib/Stack":42,"./SpelNode":38}],13:[function(a,b,c){"use strict";function d(a,b){var c=e.SpelNode.create("list",a),d=[].concat(b||[]);return c.getValue=function(a){return d.map(function(b){return b.getValue(a)})},c}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.InlineList=f},{"./SpelNode":38}],14:[function(a,b,c){"use strict";function d(a,b){var c=e.SpelNode.create("map",a),d=[].concat(b||[]);return c.getValue=function(a){var b=!0,c=null,e={};return d.forEach(function(d){b?c="property"===d.getType()?d.getName():d.getValue(a):e[c]=d.getValue(a),b=!b}),e},c}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.InlineMap=f},{"./SpelNode":38}],15:[function(a,b,c){"use strict";function d(a,b,c,d){var f=e.SpelNode.create("method",c);return f.getValue=function(c){function e(c){if(void 0===c){if(a)return null;throw{name:"NullPointerException",message:"Method "+b+" does not exist."}}return c}var f,g=c.activeContext.peek(),h=[];if(!g)throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+b+"' for an undefined context."};return d.forEach(function(a){h.push(a.getValue(c))}),"get"!==b.substr(0,3)||g[b]?"set"!==b.substr(0,3)||g[b]?"size"===b&&Array.isArray(g)?g.length:(f=e(g[b]),f?f.apply(g,h):null):g[b.charAt(3).toLowerCase()+b.substring(4)]=h[0]:e(g[b.charAt(3).toLowerCase()+b.substring(4)])},f}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.MethodReference=f},{"./SpelNode":38}],16:[function(a,b,c){"use strict";function d(a,b){var c=e.SpelNode.create("null",b);return c.getValue=function(){return null},c}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.NullLiteral=f},{"./SpelNode":38}],17:[function(a,b,c){"use strict";function d(a,b){var c=e.SpelNode.create("number",b);return c.getValue=function(){return a},c.setValue=function(b){return a=b},c}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.NumberLiteral=f},{"./SpelNode":38}],18:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("op-and",a,b,c);return d.getValue=function(a){return!!b.getValue(a)&&!!c.getValue(a)},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.OpAnd=f},{"./SpelNode":38}],19:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("op-dec",a,c);return d.getValue=function(a){var d=c.getValue(a);return c.setValue(d-1,a),b?d:d-1},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.OpDec=f},{"./SpelNode":38}],20:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("op-divide",a,b,c);return d.getValue=function(a){return b.getValue(a)/c.getValue(a)},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.OpDivide=f},{"./SpelNode":38}],21:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("op-eq",a,b,c);return d.getValue=function(a){return b.getValue(a)===c.getValue(a)},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.OpEQ=f},{"./SpelNode":38}],22:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("op-ge",a,b,c);return d.getValue=function(a){return b.getValue(a)>=c.getValue(a)},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.OpGE=f},{"./SpelNode":38}],23:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("op-gt",a,b,c);return d.getValue=function(a){return b.getValue(a)>c.getValue(a)},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.OpGT=f},{"./SpelNode":38}],24:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("op-inc",a,c);return d.getValue=function(a){var d=c.getValue(a);return c.setValue(d+1,a),b?d:d+1},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.OpInc=f},{"./SpelNode":38}],25:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("op-le",a,b,c);return d.getValue=function(a){return b.getValue(a)<=c.getValue(a)},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.OpLE=f},{"./SpelNode":38}],26:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("op-lt",a,b,c);return d.getValue=function(a){return b.getValue(a)<c.getValue(a)},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.OpLT=f},{"./SpelNode":38}],27:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("op-minus",a,b,c);return d.getValue=function(a){return b.getValue(a)-c.getValue(a)},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.OpMinus=f},{"./SpelNode":38}],28:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("op-modulus",a,b,c);return d.getValue=function(a){return b.getValue(a)%c.getValue(a)},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.OpModulus=f},{"./SpelNode":38}],29:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("op-multiply",a,b,c);return d.getValue=function(a){var d=b.getValue(a),e=c.getValue(a);if("number"==typeof d&&"number"==typeof e)return d*e;if("string"==typeof d&&"number"==typeof e){for(var f="",g=0;g<e;g+=1)f+=d;return f}return null},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.OpMultiply=f},{"./SpelNode":38}],30:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("op-ne",a,b,c);return d.getValue=function(a){return b.getValue(a)!==c.getValue(a)},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.OpNE=f},{"./SpelNode":38}],31:[function(a,b,c){"use strict";function d(a,b){var c=e.SpelNode.create("op-not",a,b);return c.getValue=function(a){return!b.getValue(a)},c}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.OpNot=f},{"./SpelNode":38}],32:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("op-or",a,b,c);return d.getValue=function(a){return!!b.getValue(a)||!!c.getValue(a)},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.OpOr=f},{"./SpelNode":38}],33:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("op-plus",a,b,c);return d.getValue=function(a){return b.getValue(a)+c.getValue(a)},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.OpPlus=f},{"./SpelNode":38}],34:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("op-power",a,b,c)
;return d.getValue=function(a){return Math.pow(b.getValue(a),c.getValue(a))},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.OpPower=f},{"./SpelNode":38}],35:[function(a,b,c){"use strict";function d(a,b,c){return a.map(function(a){var d;return c.activeContext.push(a),d=b.getValue(c),c.activeContext.pop(),d})}function e(a,b,c){var e=f.SpelNode.create("projection",b,c);return e.getValue=function(a){var b,e=a.activeContext.peek(),f=[];if(Array.isArray(e))return d(e,c,a);if("object"==typeof e){for(b in e)e.hasOwnProperty(b)&&f.push(e[b]);return d(f,c,a)}return null},e}Object.defineProperty(c,"__esModule",{value:!0});var f=a("../src/SpelNode"),g={create:e};c.Projection=g},{"./SpelNode":38}],36:[function(a,b,c){"use strict";function d(a,b,c){var d=e.SpelNode.create("property",c);return d.getValue=function(c){var d=c.activeContext.peek();if(!d)throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+b+"' for an undefined context."};if(void 0===d[b]){if(a)return null;if("size"===b&&Array.isArray(d))return d.length;throw{name:"NullPointerException",message:"Property '"+b+"' does not exist."}}return d[b]},d.setValue=function(a,c){var d=c.activeContext.peek();if(!d)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+b+"' for an undefined context."};return d[b]=a},d.getName=function(){return b},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.PropertyReference=f},{"./SpelNode":38}],37:[function(a,b,c){"use strict";function d(a,b,c){var d=!1;return c.activeContext.push(a),d=b.getValue(c),c.activeContext.pop(),d}function e(a,b,c,e){var f=a.filter(function(a){return d(a,c,e)});switch(b){case"ALL":return f;case"FIRST":return f[0]||null;case"LAST":return f.length?f[f.length-1]:null}}function f(a,b,c,e){var f,g,h={},i=[],j={};for(g in a)a.hasOwnProperty(g)&&(f={key:g,value:a[g]},d(f,c,e)&&i.push(f));switch(b){case"ALL":return i.forEach(function(a){h[a.key]=a.value}),h;case"FIRST":return i.length?(j[i[0].key]=i[0].value,j):null;case"LAST":return i.length?(j[i[i.length-1].key]=i[i.length-1].value,j):null}i.forEach(function(a){h[a.key]=a.value})}function g(a,b,c,d){var g=h.SpelNode.create("selection",c,d);return g.getValue=function(a){var c=a.activeContext.peek();if(c){if(Array.isArray(c))return e(c,b,d,a);if("object"==typeof c)return f(c,b,d,a)}return null},g}Object.defineProperty(c,"__esModule",{value:!0});var h=a("../src/SpelNode"),i={create:g,FIRST:"FIRST",LAST:"LAST",ALL:"ALL"};c.Selection=i},{"./SpelNode":38}],38:[function(a,b,c){"use strict";function d(a,b){var c,d={},e=a||"Abstract",f=[],g=null;if(d._type=e,d.getType=function(){return e},d.setType=function(a){e=a},d.getChildren=function(){return f},d.addChild=function(a){a.setParent(d),f.push(a)},d.getParent=function(){return g},d.setParent=function(a){g=a},d.getContext=function(a){return c||a.activeContext.peek()},d.setContext=function(a){c=a},d.getStartPosition=function(){return b>>16},d.getEndPosition=function(){return 65535&b},d.getValue=function(){throw{name:"MethodNotImplementedException",message:"SpelNode#getValue() must be overridden."}},d.toString=function(){var a="Kind: "+d.getType();a+=", Children: [";for(var b=0,c=d.getChildren().length;b<c;b+=1)a+="{"+d.getChildren()[b]+"}, ";return a+="]"},0===b)throw{name:"Error",message:"Position cannot be 0"};for(var h=arguments.length,i=Array(h>2?h-2:0),j=2;j<h;j++)i[j-2]=arguments[j];return i&&i.forEach(function(a){d.addChild(a)}),d}Object.defineProperty(c,"__esModule",{value:!0});var e={create:d};c.SpelNode=e},{}],39:[function(a,b,c){"use strict";function d(a,b){function c(a){return"'"===a[0]&&"'"===a[a.length-1]||'"'===a[0]&&'"'===a[a.length-1]?a.substring(1,a.length-1):a}var d=e.SpelNode.create("string",b);return a=c(a),d.getValue=function(){return a},d.setValue=function(b){return a=b},d}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.StringLiteral=f},{"./SpelNode":38}],40:[function(a,b,c){"use strict";function d(a,b,c,d){var f=e.SpelNode.create("ternary",a,b,c,d);return f.getValue=function(a){return b.getValue(a)?c.getValue(a):d.getValue(a)},f}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.Ternary=f},{"./SpelNode":38}],41:[function(a,b,c){"use strict";function d(a,b){var c=e.SpelNode.create("variable",b);return c.getValue=function(b){var c=b.activeContext.peek(),d=b.locals;if(!c)throw{name:"ContextDoesNotExistException",message:"Attempting to look up variable '"+a+"' for an undefined context."};return"this"===a?c:"root"===a?b.rootContext:d[a]},c.setValue=function(b,c){return c.locals[a]=b},c}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../src/SpelNode"),f={create:d};c.VariableReference=f},{"./SpelNode":38}],42:[function(a,b,c){"use strict";function d(a){this.elements=a||[]}Object.defineProperty(c,"__esModule",{value:!0}),c.Stack=d,d.prototype.push=function(a){return this.elements.push(a),a},d.prototype.pop=function(){return this.elements.pop()},d.prototype.peek=function(){return this.elements[this.elements.length-1]},d.prototype.empty=function(){return this.elements.length>0},d.prototype.search=function(a){return this.elements.length-this.elements.indexOf(a)}},{}],43:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("../src/SpelExpressionEvaluator"),e=a("../src/StandardContext");c.SpelExpressionEvaluator=d.SpelExpressionEvaluator,c.StandardContext=e.StandardContext},{"./SpelExpressionEvaluator":1,"./StandardContext":3}]},{},[43])(43)});